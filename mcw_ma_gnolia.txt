# mcw_ma_gnolia v0.1
# Ma.gnolia Linkroll
# Mike West
# http://mikewest.org/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YTo5OntzOjc6InZlcnNpb24iO3M6MzoiMC4xIjtzOjY6ImF1dGhvciI7czo5OiJNaWtlIFdl
c3QiO3M6MTA6ImF1dGhvcl91cmkiO3M6MjA6Imh0dHA6Ly9taWtld2VzdC5vcmcvIjtzOjEx
OiJkZXNjcmlwdGlvbiI7czoxODoiTWEuZ25vbGlhIExpbmtyb2xsIjtzOjQ6InR5cGUiO2k6
MTtzOjQ6Im5hbWUiO3M6MTM6Im1jd19tYV9nbm9saWEiO3M6NDoiaGVscCI7czo1NTY4OiI8
aDI+PGNvZGU+bWN3X21hX2dub2xpYTwvY29kZT48L2gyPgoKPHA+PGNvZGU+bWN3X21hX2du
b2xpYTwvY29kZT4gaXMgYSBUZXh0UGF0dGVybiBwbHVnaW4gdGhhdCBnZW5lcmF0ZXMgYSBj
dXN0b21pemFibGUgTWEuZ25vbGlhIGxpbmsgcm9sbCBmb3IgdXNlIG9uIHlvdXIgd2Vic2l0
ZS4gIDxhIGhyZWY9Imh0dHA6Ly9taWtld2VzdC5vcmcvZmlsZV9kb3dubG9hZC81IiB0aXRs
ZT0iYG1jd19tYV9nbm9saWFgIGRvd25sb2FkIj5Eb3dubG9hZCBpdCBub3c8L2E+LCBhbmQg
c3RhcnQgcGxheWluZyE8L3A+Cgo8aDM+V2hhdCBpcyBpdD88L2gzPgoKPHA+PGEgaHJlZj0i
aHR0cDovL21hLmdub2xpYS5jb20iIHRpdGxlPSJtYS5nbm9saWEuY29tOiBhIHNvY2lhbCBi
b29rbWFya2luZyBzaXRlIj5NYS5nbm9saWE8L2E+IGlzIGEgc29jaWFsIGJvb2ttYXJraW5n
IHNpdGUgKHNvbWV3aGF0IGxpa2UgPGEgaHJlZj0iaHR0cDovL2RlbC5pY2lvLnVzIiB0aXRs
ZT0iZGVsLmljaW8udXM6IGEgc29jaWFsIGJvb2ttYXJraW5nIHNpdGUiPmRlbC5pY2lvLnVz
PC9hPikgdGhhdCBJIHVzZSB0byBrZWVwIHRyYWNrIG9mIGludGVyZXN0aW5nIHdlYnNpdGVz
IEkgY29tZSBhY3Jvc3MuICBJdCBwcm92aWRlcyB0aGUgYnVpbHQgaW4gYWJpbGl0eSB0byBk
aXNwbGF5IHlvdXIgbW9zdCByZWNlbnQgYm9va21hcmtzIG9uIHlvdXIgcGVyc29uYWwgd2Vi
c2l0ZSAoYSAmIzgyMTY7bGluayByb2xsJiM4MjE3OyksIGJ1dCBJIGRvbiYjODIxNzt0IGxp
a2UgdGhlIG1lY2hhbmlzbSBpdCB1c2VzIHRvIG1ha2UgdGhhdCBoYXBwZW4uPC9wPgoKPHA+
PGEgaHJlZj0iaHR0cDovL21hLmdub2xpYS5jb20iIHRpdGxlPSJtYS5nbm9saWEuY29tOiBh
IHNvY2lhbCBib29rbWFya2luZyBzaXRlIj5NYS5nbm9saWE8L2E+IHByb3ZpZGVzIHlvdSB3
aXRoIGEgSmF2YVNjcmlwdCBmaWxlIHRoYXQgdXNlcyA8Y29kZT5kb2N1bWVudC53cml0ZTwv
Y29kZT4gdG8gZHVtcCB0aGUgbGluayByb2xsIHRvIHlvdXIgc2l0ZS4gIFRoaXMgd29ya3Ms
IGJ1dCBpdCYjODIxNztzIG5vdCBleGFjdGx5IGFjY2Vzc2libGUsIG5vciBpcyBpdCB2ZXJ5
IGZsZXhpYmxlLiAgPGNvZGU+bWN3X21hX2dub2xpYTwvY29kZT4gbGV2ZXJhZ2VzIHRoaXMg
YnVpbHQtaW4gbWVjaGFuaXNtIHRvIHByb3ZpZGUgd2hhdCBJIGhvcGUgaXMgYW4gZXh0cmVt
ZWx5IGZsZXhpYmxlIGFuZCBhY2Nlc3NpYmxlIGxpbmsgcm9sbCB3aXRob3V0IHRoZSB1c2Ug
b2YgY2xpZW50LXNpZGUgSmF2YVNjcmlwdC48L3A+Cgo8cD5JbiBhIG51dHNoZWxsLCB0aGUg
cGx1Z2luIGRvd25sb2FkcyBhbmQgY2FjaGVzIHRoZSBKYXZhU2NyaXB0IGZpbGUgc2VydmVy
LXNpZGUgb24gYSBxdWFzaS1ob3VybHkgYmFzaXMsIGV4dHJhY3RzIHRoZSBsaW5rIGluZm9y
bWF0aW9uLCBhbmQgbWFrZXMgdGhlIGRhdGEgYXZhaWxhYmxlIGZvciB5b3UgdmlhIGEgc2Vy
aWVzIG9mIFRleHRQYXR0ZXJuIHRhZ3MgdGhhdCB5b3UgY2FuIHVzZSBpbiB5b3VyIDxjb2Rl
PmZvcm1zPC9jb2RlPiBhbmQgPGNvZGU+cGFnZXM8L2NvZGU+LjwvcD4KCjxoMz5Ib3cgRG8g
SSBVc2UgPGNvZGU+bWN3X21hX2dub2xpYTwvY29kZT4/IChlLmcuIHF1aWNrc3RhcnQpPC9o
Mz4KCjxwPlN0YXJ0IGJ5IDxhIGhyZWY9Imh0dHA6Ly9taWtld2VzdC5vcmcvZmlsZV9kb3du
bG9hZC81IiB0aXRsZT0iYG1jd19tYV9nbm9saWFgIGRvd25sb2FkIj5kb3dubG9hZGluZyB0
aGUgcGx1Z2luPC9hPiBhbmQgaW5zdGFsbGluZyBpdCBsaWtlIHlvdSB3b3VsZCBhbnkgb3Ro
ZXIuICBPbmNlIHlvdSYjODIxNzt2ZSBnb3R0ZW4gdGhlIHBsdWdpbiBpbnN0YWxsZWQsIDxj
b2RlPmVkaXQ8L2NvZGU+IGl0LCBhbmQgZW50ZXIgeW91ciBtYS5nbm9saWEgdXNlcm5hbWUg
YW5kIHRoZSBudW1iZXIgb2YgbGlua3MgeW91JiM4MjE3O2QgbGlrZSBkaXNwbGF5ZWQgaW50
byB0aGUgcHVibGljIGNvbmZpZyBzZWN0aW9uIG9mIHRoZSBQSFAgY29kZSAoc2hvdWxkIGJl
IGxpbmVzIDYgYW5kIDcgb3Igc28pLiAgSWYgeW91IGRvbiYjODIxNzt0IGRvIHRoaXMsIHlv
dSYjODIxNztsbCBiZSBzZWVpbmcgbXkgbGlua3MuICBUaGF0JiM4MjE3O3MgYSBmaW5lIHdh
eSB0byB0ZXN0LCBidXQgeW91JiM4MjE3O2xsIHByb2JhYmx5IHdhbnQgdG8gbWFrZSB0aGlz
IGNoYW5nZSBiZWZvcmUgeW91IGdvIGxpdmUuPC9wPgoKPHA+TmV4dCwgY2xpY2sgb24gdGhl
IDxjb2RlPmV4dGVuc2lvbnM8L2NvZGU+IHRhYiwgYW5kIHRoZW4gb24gdGhlIDxjb2RlPk1h
Lmdub2xpYSBMaW5rcm9sbDwvY29kZT4gc3VidGFiLiAgSGl0dGluZyB0aGlzIHBhZ2Ugd2ls
bCBhdXRvbWF0aWNhbGx5IGNyZWF0ZSBhIDxjb2RlPmZvcm08L2NvZGU+IGNhbGxlZCA8Y29k
ZT5tY3dfbWFfZ25vbGlhPC9jb2RlPiwgYW5kIG9mZmVyIHlvdSB0aGUgb3Bwb3J0dW5pdHkg
dG8gZm9yY2UtdXBkYXRlIHlvdXIgY2FjaGVkIG1hLmdub2xpYSBsaW5rcy4gIEdvIGFoZWFk
IGFuZCBoaXQgdGhhdCBidXR0b24gbm93IHRvIHNwZWVkIHRoaW5ncyB1cCBsYXRlci48L3A+
Cgo8cD5GaW5hbGx5LCBlZGl0IGEgPGNvZGU+cGFnZTwvY29kZT4gdG8gaW5jbHVkZSB0aGUg
PGNvZGU+Jmx0O3R4cDptY3dfbWFfZ25vbGlhIC8mZ3Q7PC9jb2RlPiB0YWcuICBWaW9sYSwg
bWEuZ25vbGlhIGxpbmtzIG9uIHlvdXIgcGFnZS4gIEFzdG91bmRpbmchPC9wPgoKPGgzPkhv
dyBkbyBJIGNvbmZpZ3VyZSB0aGUgb3V0cHV0PzwvaDM+Cgo8cD5FeGNlbGxlbnQgcXVlc3Rp
b24uICBIZXJlJiM4MjE3O3MgYnJpZWYgZG9jdW1lbnRhdGlvbiBvZiBlYWNoIG9mIHRoZSB0
YWdzIHRoaXMgcGx1Z2luIGVuYWJsZXM6PC9wPgoKPHVsPgo8bGk+PHA+PGNvZGU+dHhwOm1j
d19tYV9nbm9saWE8L2NvZGU+ICYjODIxMjsgVGggPGNvZGU+bWN3X21hX2dub2xpYTwvY29k
ZT4gdGFnIGlzIGEgPGVtPnNpbmdsZSB0YWc8L2VtPiB0aGF0IGdldHMKcmVwbGFjZWQgd2l0
aCB0aGUgTGluayBSb2xsLiAgSXQgY2FuIGJlIGluY2x1ZGVkIG9uIGEgPGNvZGU+cGFnZTwv
Y29kZT4gZGlyZWN0bHksIG9yCmFzIHBhcnQgb2YgYSA8Y29kZT5mb3JtPC9jb2RlPiB0aGF0
JiM4MjE3O3MgZGlzcGxheWVkIG9uIGEgcGFnZS48L3A+Cgo8cD5BdHRyaWJ1dGVzOiAgICA8
L3A+Cgo8dWw+CjxsaT48Y29kZT5mb3JtPC9jb2RlPiAmIzgyMTI7IHRoaXMgc3BlY2lmaWVz
IHRoZSA8Y29kZT5mb3JtPC9jb2RlPiB0byBiZSB1c2VkIGZvciBlYWNoIG9mIHRoZQpkaXNw
bGF5ZWQgbGlua3MuICBEZWZhdWx0cyB0byA8Y29kZT5tY3dfbWFfZ25vbGlhPC9jb2RlPi48
L2xpPgo8bGk+PGNvZGU+d3JhcF90YWc8L2NvZGU+ICYjODIxMjsgc3BlY2lmaWVzIHRoZSBi
bG9jay1sZXZlbCB0YWcgdG8gd3JhcCB0aGUgbGlua3MuCkRlZmF1bHRzIHRvIDxjb2RlPnVs
PC9jb2RlPi48L2xpPgoKPGxpPjxjb2RlPmNsYXNzPC9jb2RlPiAmIzgyMTI7IGFwcGxpZXMg
YSBDU1MgY2xhc3MgdG8gdGhlIGJsb2NrLWxldmVsIHRhZyBzcGVjaWZpZWQKIGluIHRoZSA8
Y29kZT53cmFwX3RhZzwvY29kZT4gYXR0cmlidXRlLjwvbGk+CjwvdWw+PC9saT4KPGxpPjxw
Pjxjb2RlPnR4cDptY3dfbWFfZ25vbGlhX3VyaTwvY29kZT4gJiM4MjEyOyBUaGUgPGNvZGU+
bWN3X21hX2dub2xpYV91cmk8L2NvZGU+IHRhZyBpcyBhIDxlbT5zaW5nbGUgdGFnPC9lbT4K
CnRoYXQgZ2V0cyByZXBsYWNlZCB3aXRoIGEgbGluayYjODIxNztzIFVSSSAodGhlIGFjdHVh
bCBhZGRyZXNzIG9mIHRoZSBsaW5rKS48L3A+PC9saT4KPGxpPjxjb2RlPnR4cDptY3dfbWFf
Z25vbGlhX2xpbms8L2NvZGU+ICYjODIxMjsgVGhlIDxjb2RlPm1jd19tYV9nbm9saWFfbGlu
azwvY29kZT4gdGFnIGlzIGEgPGVtPnNpbmdsZSB0YWc8L2VtPgp0aGF0IGdldHMgcmVwbGFj
ZWQgd2l0aCBhIGxpbmsmIzgyMTc7cyBtYS5nbm9saWEgcmVkaXJlY3QgKGUuZy4gPGNvZGU+
aHR0cDovL21hLmdub2xpYS5jb20vYm9va21hcmtzL2J1cHV4ZXNlcS9kaXNwYXRjaDwvY29k
ZT4pPC9saT4KCjxsaT48Y29kZT50eHA6bWN3X21hX2dub2xpYV90aXRsZTwvY29kZT4gJiM4
MjEyOyBUaGUgPGNvZGU+bWN3X21hX2dub2xpYV90aXRsZTwvY29kZT4gdGFnIGlzIGEgPGVt
PnNpbmdsZQp0YWc8L2VtPiB0aGF0IGdldHMgcmVwbGFjZWQgd2l0aCBhIGxpbmsmIzgyMTc7
cyB0aXRsZS48L2xpPgo8bGk+PGNvZGU+dHhwOm1jd19tYV9nbm9saWFfZGVzYzwvY29kZT4g
JiM4MjEyOyBUaGUgPGNvZGU+bWN3X21hX2dub2xpYV9kZXNjPC9jb2RlPiB0YWcgaXMgYSA8
ZW0+c2luZ2xlIHRhZzwvZW0+Cgp0aGF0IGdldHMgcmVwbGFjZWQgd2l0aCBhIGxpbmsmIzgy
MTc7cyBkZXNjcmlwdGlvbi48L2xpPgo8L3VsPgoKPHA+RXhhbXBsZSBwYWdlOjwvcD4KCjxw
cmU+PGNvZGU+UGFnZTogZGVmYXVsdAoKLi4uCiAgICAmbHQ7ZGl2IGlkPSdtYV9nbm9saWFf
bGlua3JvbGwnJmd0OwogICAgICAgICZsdDtoMiZndDtNeSBSZWNlbnQgQm9va21hcmtzJmx0
Oy9oMiZndDsKICAgICAgICAmbHQ7dHhwOm1jd19tYV9nbm9saWEKICAgICAgICAgICAgZm9y
bT0nbWN3X21hX2dub2xpYScKICAgICAgICAgICAgd3JhcF90YWc9J29sJwogICAgICAgICAg
ICBjbGFzcz0nbWFfZ25vbGlhX2xpc3QnCiAgICAgICAgLyZndDsKCiAgICAmbHQ7L2RpdiZn
dDsKLi4uCjwvY29kZT48L3ByZT4KCjxwPkV4YW1wbGUgZm9ybTo8L3A+Cgo8cHJlPjxjb2Rl
PkZvcm06IG1jd19tYV9nbm9saWEKCiZsdDtsaSZndDsKICAgICZsdDthCiAgICAgICAgaHJl
Zj0nJmx0O3R4cDptY3dfbWFfZ25vbGlhX2xpbmsgLyZndDsnCiAgICAgICAgdGl0bGU9JyZs
dDt0eHA6bWN3X21hX2dub2xpYV90aXRsZSAvJmd0OycKICAgICZndDsmbHQ7dHhwOm1jd19t
YV9nbm9saWFfdGl0bGUgLyZndDsmbHQ7L2EmZ3Q7IC0gJmx0O3R4cDptY3dfbWFfZ25vbGlh
X2Rlc2MgLyZndDsKCiZsdDsvbGkmZ3Q7CjwvY29kZT48L3ByZT4KCjxwPldvdWxkIHByb2R1
Y2U6PC9wPgoKPHByZT48Y29kZT4mbHQ7ZGl2IGlkPSdtYV9nbm9saWFfbGlua3JvbGwnJmd0
OwogICAgJmx0O2gyJmd0O015IFJlY2VudCBCb29rbWFya3MmbHQ7L2gyJmd0OwogICAgJmx0
O29sIGNsYXNzPSdtYV9nbm9saWFfbGlzdCcmZ3Q7CgogICAgICAgICZsdDtsaSZndDsKICAg
ICAgICAgICAgJmx0O2EKICAgICAgICAgICAgICAgIGhyZWY9J0xJTktfR09fSEVSRScKICAg
ICAgICAgICAgICAgIHRpdGxlPSdUSVRMRV9HT19IRVJFJwogICAgICAgICAgICAmZ3Q7VElU
TEVfR09fSEVSRSZsdDsvYSZndDsgLSBERVNDUklQVElPTiBHTyBIRVJFCiAgICAgICAgJmx0
Oy9saSZndDsKICAgICAgICAuLi4KICAgICAgICAmbHQ7bGkmZ3Q7CiAgICAgICAgICAgICZs
dDthCiAgICAgICAgICAgICAgICBocmVmPSdMSU5LX0dPX0hFUkUnCiAgICAgICAgICAgICAg
ICB0aXRsZT0nVElUTEVfR09fSEVSRScKICAgICAgICAgICAgJmd0O1RJVExFX0dPX0hFUkUm
bHQ7L2EmZ3Q7IC0gREVTQ1JJUFRJT04gR08gSEVSRQogICAgICAgICZsdDsvbGkmZ3Q7Cgog
ICAgJmx0Oy9vbCZndDsKJmx0Oy9kaXYmZ3Q7CjwvY29kZT48L3ByZT4KCjxwPk5pY2UsIGVo
PzwvcD4iO3M6NDoiY29kZSI7czo2NjMwOiIvKgogICAgUFVCTElDIFBMVUdJTiBDT05GSUcK
ICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKi8KICAgICRtY3dfbWFfZ25vbGlhID0gYXJyYXko
CiAgICAgICAgInVzZXJuYW1lIiAgICAgID0+ICJtaWtld2VzdCIsCiAgICAgICAgIm51bV9s
aW5rcyIgICAgID0+ICI0IgogICAgKTsKCi8qCiAgICBQTFVHSU4gQ09ERSAobm8gZWRpdGlu
ZyBiZWxvdyB0aGlzIGxpbmUsIHBsZWFzZSkKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKi8K
ICAgICRtY3dfbWFfZ25vbGlhWydsaW5rcm9sbF91cmknXSA9ICJodHRwOi8vbWEuZ25vbGlh
LmNvbS9qcy9ub25lL3Blb3BsZS8iLiRtY3dfbWFfZ25vbGlhWyd1c2VybmFtZSddLiIvP2xl
bmd0aD0iLiRtY3dfbWFfZ25vbGlhWydudW1fbGlua3MnXTsKICAgICRtY3dfbWFfZ25vbGlh
WydjYWNoZV9maWxlJ10gPSBmaW5kX3RlbXBfZGlyKCkuIi8iLiRHTE9CQUxTWydwcmVmcydd
WydibG9nX3VpZCddLiItLW1jd19tYV9nbm9saWEuZGF0YSI7CgogICAgJEdMT0JBTFNbJ19N
Q1dfTUFfR05PTElBJ10gPSAkbWN3X21hX2dub2xpYTsKCgoKICAgIC8qCiAgICAgICAgUExV
R0lOIENPREU6OklOU1RBTlRJQVRJT04KICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAqLwogICAgICAg
IGlmIChAdHhwaW50ZXJmYWNlID09ICdhZG1pbicpIHsKICAgICAgICAJJGV2ZW50ICAgICAg
PSAnbWN3X21hX2dub2xpYSc7CiAgICAgICAgCSRldmVudF90YWIgID0gJ01hLmdub2xpYSBM
aW5rcm9sbCc7CgogICAgICAgIAlhZGRfcHJpdnMoJGV2ZW50LCAnMSwyJyk7CiAgICAgICAg
CXJlZ2lzdGVyX3RhYigiZXh0ZW5zaW9ucyIsICRldmVudCwgJGV2ZW50X3RhYik7CiAgICAg
ICAgCXJlZ2lzdGVyX2NhbGxiYWNrKCdtY3dfbWFfZ25vbGlhX2FkbWluJywgJGV2ZW50KTsK
ICAgICAgICB9CgogICAgLyoKICAgICAgICBQTFVHSU4gQ09ERTo6TUFJTiBBRE1JTiBDQUxM
QkFDSwogICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICovCiAgICAgICAgZnVuY3Rpb24gbWN3X21hX2du
b2xpYV9hZG1pbigkZXZlbnQsICRzdGVwKSB7CiAgICAgICAgICAgIGdsb2JhbCAkX01DV19N
QV9HTk9MSUE7CgogICAgICAgICAgICBpZiAoIXNhZmVfcm93KCIqIiwgJ3R4cF9mb3JtJywg
Im5hbWUgPSAnbWN3X21hX2dub2xpYSciKSApIHsKICAgICAgICAgICAgICAgICRmb3JtID0g
JzxsaT48YSBocmVmPSI8dHhwOm1jd19tYV9nbm9saWFfbGluayAvPiIgdGl0bGU9Ijx0eHA6
bWN3X21hX2dub2xpYV90aXRsZSAvPiI+PHR4cDptY3dfbWFfZ25vbGlhX3RpdGxlIC8+PC9h
PiA8dHhwOm1jd19tYV9nbm9saWFfZGVzYyAvPjwvbGk+JzsKICAgICAgICAgICAgICAgIHNh
ZmVfaW5zZXJ0KCd0eHBfZm9ybScsICJuYW1lPSdtY3dfbWFfZ25vbGlhJywgdHlwZT0nbWlz
YycsIGZvcm09JyIuJGZvcm0uIiciKTsKICAgICAgICAgICAgfQoKICAgIAkJcGFnZXRvcCgi
TWFudWFsbHkgVXBkYXRlIE1hLkdub2xpYSBDYWNoZSIsICIiKTsKCiAgICAgICAgICAgIHBy
aW50ICIKCSAgICAgICAgPHN0eWxlIHR5cGU9J3RleHQvY3NzJz4KCSAgICAgICAgICAgIC5z
dWNjZXNzIHsgY29sb3I6ICMwMDk5MDA7IH0KCSAgICAgICAgICAgIC5mYWlsdXJlIHsgY29s
b3I6ICNGRjAwMDA7IH0KCSAgICAgICAgPC9zdHlsZT4KCgkgICAgICAgIDx0YWJsZSBjZWxs
cGFkZGluZz0nMCcgY2VsbHNwYWNpbmc9JzAnIGJvcmRlcj0nMCcgaWQ9J2xpc3QnIGFsaWdu
PSdjZW50ZXInPgoJICAgICAgICAgICAgPHRyPgoJICAgICAgICAgICAgICAgIDx0ZD4KCSAg
ICAgICAgIjsKCiAgICAgICAgICAgIGlmICgkc3RlcCA9PSAnZm9yY2VfdXBkYXRlJykgewog
ICAgICAgICAgICAgICAgdXBkYXRlX21hX2dub2xpYV9jYWNoZSh0cnVlKTsKICAgICAgICAg
ICAgICAgIHByaW50ICIKICAgICAgICAgICAgICAgICAgICAgICAgPGgxPk1hbnVhbCBVcGRh
dGUgUmVzdWx0czwvaDE+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNhY2hlIG1hbnVh
bCB1cGRhdGUgPHN0cm9uZyBjbGFzcz0nc3VjY2Vzcyc+c3VjY2VlZGVkPC9zdHJvbmc+ITwv
cD4KICAgICAgICAgICAgICAgICI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICgh
aXNfZmlsZSgkX01DV19NQV9HTk9MSUFbJ2NhY2hlX2ZpbGUnXSkpIHsKICAgICAgICAgICAg
ICAgICR0ZXh0ID0gIkNhY2hlIGZpbGUgZG9lcyBub3QgeWV0IGV4aXN0IjsKICAgICAgICAg
ICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICRmcCAgID0gZm9wZW4oJF9NQ1dfTUFfR05P
TElBWydjYWNoZV9maWxlJ10sICdyJyk7CiAgICAgICAgICAgICAgICAkc3RhdCA9IGZzdGF0
KCRmcCk7CiAgICAgICAgICAgICAgICBmY2xvc2UoJGZwKTsKICAgICAgICAgICAgICAgICR0
ZXh0ID0gIkNhY2hlIGxhc3QgdXBkYXRlZCAiLmRhdGUoJ3InLCAkc3RhdFsnbXRpbWUnXSk7
CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHByaW50ICIKICAgICAgICAgICAgICAgICAg
ICA8aDE+TWFudWFsbHkgdXBkYXRlIG1hLmdub2xpYSBjYWNoZTwvaDE+CiAgICAgICAgICAg
ICAgICAgICAgPHA+Ii4kdGV4dC4iPC9wPgogICAgICAgICAgICAgICAgIi5mb3JtKAogICAg
ICAgICAgICAgICAgICAgICAgICBmSW5wdXQoJ3N1Ym1pdCcsICdGb3JjZSBVcGRhdGUnLCAn
Rm9yY2UgVXBkYXRlJywgJ3NtYWxsZXJib3gnKS4KICAgICAgICAgICAgICAgICAgICAgICAg
ZUlucHV0KCdtY3dfbWFfZ25vbGlhJykuc0lucHV0KCdmb3JjZV91cGRhdGUnKQogICAgICAg
ICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZV9tYV9nbm9s
aWFfY2FjaGUoJGZvcmNlID0gZmFsc2UpIHsKICAgICAgICAgICAgZ2xvYmFsICRfTUNXX01B
X0dOT0xJQTsKCiAgICAgICAgICAgIGlmIChpc19maWxlKCRfTUNXX01BX0dOT0xJQVsnY2Fj
aGVfZmlsZSddKSkgewogICAgICAgICAgICAgICAgJGZwICAgPSBmb3BlbigkX01DV19NQV9H
Tk9MSUFbJ2NhY2hlX2ZpbGUnXSwgJ3InKTsKICAgICAgICAgICAgICAgICRzdGF0ID0gZnN0
YXQoJGZwKTsKICAgICAgICAgICAgICAgIGZjbG9zZSgkZnApOwogICAgICAgICAgICB9IGVs
c2UgewogICAgICAgICAgICAgICAgJHN0YXQgPSBhcnJheSgnbXRpbWUnID0+IDApOwogICAg
ICAgICAgICB9CgogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAoCiAgICAgICAg
ICAgICAgICAgICAgKCRzdGF0WydtdGltZSddICsgMzYwMCkgPCB0aW1lKCkKICAgICAgICAg
ICAgICAgICkKICAgICAgICAgICAgICAgIHx8CiAgICAgICAgICAgICAgICAkZm9yY2UgPT0g
dHJ1ZQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIGlmIChpc19jYWxsYWJsZSgn
Y3VybF9pbml0JykpIHsKICAgICAgICAgICAgICAgICAgICAkY2ggPSBjdXJsX2luaXQoKTsK
ICAgICAgICAgICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAgICAg
ICAgICAgICAgICRfTUNXX01BX0dOT0xJQVsnbGlua3JvbGxfdXJpJ10pOwogICAgICAgICAg
ICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9IRUFERVIsICAgICAgICAgICAg
RkFMU0UpOwogICAgICAgICAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9S
RVRVUk5UUkFOU0ZFUiwgICAgVFJVRSk7CgogICAgICAgICAgICAgICAgICAgICRkYXRhID0g
Y3VybF9leGVjKCRjaCk7CiAgICAgICAgICAgICAgICAgICAgY3VybF9jbG9zZSgkY2gpOwog
ICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkZGF0YSA9IGZp
bGVfZ2V0X2NvbnRlbnRzKCRfTUNXX01BX0dOT0xJQVsnbGlua3JvbGxfdXJpJ10pOwogICAg
ICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRkYXRhID0gc3BsaXQoIlxuIiwgJGRh
dGEpOwogICAgICAgICAgICAgICAgJGRhdGEgPSAkZGF0YVsyXTsKICAgICAgICAgICAgICAg
IHByZWdfbWF0Y2hfYWxsKCIvXHsoW15cfV0rKVx9LyIsICRkYXRhLCAkb3V0LCBQUkVHX1NF
VF9PUkRFUik7CgogICAgICAgICAgICAgICAgJGRhdGFBcnJheSA9IGFycmF5KCk7CgogICAg
ICAgICAgICAgICAgZm9yZWFjaCgkb3V0IGFzICRsaW5rKSB7CiAgICAgICAgICAgICAgICAg
ICAgcHJlZ19tYXRjaF9hbGwoJy8iKFteIl0rKSJccyo6XHMqIihbXiJdKykiLycsICRsaW5r
WzFdLCAkbGlua2RhdGEsIFBSRUdfU0VUX09SREVSKTsKICAgICAgICAgICAgICAgICAgICAk
dGVtcGxpbmsgPSBhcnJheSgpOwogICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRsaW5r
ZGF0YSBhcyAkZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAkdGVtcGxpbmtbJGRh
dGFbMV1dID0gJGRhdGFbMl07CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAg
ICAgICAgICBhcnJheV9wdXNoKCRkYXRhQXJyYXksICR0ZW1wbGluayk7CiAgICAgICAgICAg
ICAgICB9CgogICAgICAgICAgICAgICAgJGRhdGEgPSBzZXJpYWxpemUoJGRhdGFBcnJheSk7
CgogICAgICAgICAgICAgICAgJHRlbXBmaWxlID0gJF9NQ1dfTUFfR05PTElBWydjYWNoZV9m
aWxlJ107CiAgICAgICAgICAgICAgICAkZmlsZSA9IGZvcGVuKCR0ZW1wZmlsZSwgIncrIik7
CiAgICAgICAgICAgICAgICBmd3JpdGUoJGZpbGUsICRkYXRhKTsKICAgICAgICAgICAgICAg
IHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAg
IH0KCiAgICAvKgogICAgICAgIFBMVUdJTiBDT0RFOjpDTElFTlQgU0lERSBUQUdTCiAgICAg
ICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLQogICAgKi8KICAgICAgICBmdW5jdGlvbiBtY3dfbWFfZ25vbGlhKCRhdHRz
KSB7CiAgICAgICAgICAgIGdsb2JhbCAkX01DV19NQV9HTk9MSUE7CiAgICAgICAgICAgIGV4
dHJhY3QoCiAgICAgICAgICAgICAgICBsQXR0cygKICAgICAgICAgICAgICAgICAgICBhcnJh
eSgKICAgICAgICAgICAgICAgICAgICAgICAgImZvcm0iICAgICA9PiAibWN3X21hX2dub2xp
YSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3cmFwX3RhZyIgPT4gInVsIiwKICAgICAg
ICAgICAgICAgICAgICAgICAgImNsYXNzIiAgICA9PiAibWFfZ25vbGlhX2xpbmtzIiwKICAg
ICAgICAgICAgICAgICAgICAgICAgImlkIiAgICAgICA9PiAiIgogICAgICAgICAgICAgICAg
ICAgICksCiAgICAgICAgICAgICAgICAgICAgJGF0dHMKICAgICAgICAgICAgICAgICkKICAg
ICAgICAgICAgKTsKCiAgICAgICAgICAgIHVwZGF0ZV9tYV9nbm9saWFfY2FjaGUoKTsKCiAg
ICAgICAgICAgICRkYXRhICAgICAgPSBmaWxlX2dldF9jb250ZW50cygkX01DV19NQV9HTk9M
SUFbJ2NhY2hlX2ZpbGUnXSk7CiAgICAgICAgICAgICRsaW5rQXJyYXkgPSB1bnNlcmlhbGl6
ZSgkZGF0YSk7CgogICAgICAgICAgICBpZiAoJHdyYXBfdGFnKSB7CiAgICAgICAgICAgICAg
ICAkc3RyaW5nID0gIjwiLiR3cmFwX3RhZy4iIGNsYXNzPSciLiRjbGFzcy4iJz4iOwogICAg
ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJHN0cmluZyA9ICIiOwogICAgICAg
ICAgICB9CgogICAgICAgICAgICAkZm9ybSA9IGZldGNoX2Zvcm0oJGZvcm0pOwoKLy8gICAg
ICAgICAgICBwcmludCAkZm9ybTsKCiAgICAgICAgICAgIGZvcmVhY2goJGxpbmtBcnJheSBh
cyAkdGVtcGxpbmspIHsKICAgICAgICAgICAgICAgICRHTE9CQUxTWydfTUNXX01BX0dOT0xJ
QV9EQVRBJ10gPSAkdGVtcGxpbms7CiAgICAgICAgICAgICAgICAkc3RyaW5nIC49IHBhcnNl
KCRmb3JtKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCR3cmFwX3RhZykgewog
ICAgICAgICAgICAgICAgJHN0cmluZyAuPSAiPC8iLiR3cmFwX3RhZy4iPiI7CiAgICAgICAg
ICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkc3RyaW5nIC49ICIiOwogICAgICAgICAg
ICB9CgogICAgICAgICAgICByZXR1cm4gJHN0cmluZzsKICAgICAgICB9CgogICAgICAgIGZ1
bmN0aW9uIG1jd19tYV9nbm9saWFfdXJpKCkgICB7IHJldHVybiBtY3dfbWFfZ25vbGlhX2Rh
dGEoJ3VyaScpOyB9CiAgICAgICAgZnVuY3Rpb24gbWN3X21hX2dub2xpYV9saW5rKCkgIHsg
cmV0dXJuIG1jd19tYV9nbm9saWFfZGF0YSgnbGluaycpOyB9CiAgICAgICAgZnVuY3Rpb24g
bWN3X21hX2dub2xpYV90aXRsZSgpIHsgcmV0dXJuIG1jd19tYV9nbm9saWFfZGF0YSgndGl0
bGUnKTsgfQogICAgICAgIGZ1bmN0aW9uIG1jd19tYV9nbm9saWFfZGVzYygpICB7IHJldHVy
biBtY3dfbWFfZ25vbGlhX2RhdGEoJ2Rlc2MnKTsgfQoKICAgICAgICBmdW5jdGlvbiBtY3df
bWFfZ25vbGlhX2RhdGEoJHR5cGUpIHsKICAgICAgICAgICAgZ2xvYmFsICRfTUNXX01BX0dO
T0xJQV9EQVRBOwogICAgICAgICAgICByZXR1cm4gJF9NQ1dfTUFfR05PTElBX0RBVEFbJHR5
cGVdOwogICAgICAgIH0iO3M6MzoibWQ1IjtzOjMyOiIwOTU3ZDNiMjYzMTllNmE3NTcyMDgw
OWMxMTVjM2ViZCI7fQ==
